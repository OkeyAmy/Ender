# ender

Vibe-code blockchain dapps in minutes. An AI-powered dapp builder for Solana and Celo. Built with [Firecrawl](https://firecrawl.dev/?ref=open-lovable-github) web scraping technology.

<img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExODAwZGJzcDVmZGYxc3MyNDUycTliYnAwem1qbzhtNHh0c2JrNDdmZCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/LMYzMkNmOecj3yFw81/giphy.gif" alt="Open Lovable Demo" width="100%"/>

## Setup

### Prerequisites

- Node.js 18+ 
- pnpm, npm, or yarn
- API keys for required services (see Environment Variables section)

### Installation

1. **Clone & Install**
```bash
git clone https://github.com/firecrawl/open-lovable.git
cd open-lovable
pnpm install  # or npm install / yarn install
```

2. **Configure Environment Variables**

Copy the `.env.example` file to `.env.local`:
```bash
cp .env.example .env.local
```

Then edit `.env.local` and add your API keys. See the [Environment Variables](#environment-variables) section below for detailed recommendations.

**Quick Start (Minimum Required):**
- At least one web scraper API key (`FIRECRAWL_API_KEY` recommended)
- At least one AI provider API key (`ANTHROPIC_API_KEY`, `OPENAI_API_KEY`, `GEMINI_API_KEY`, or `GROQ_API_KEY`)
- Sandbox provider configuration (Vercel or E2B)

3. **Run the Application**
```bash
pnpm dev  # or npm run dev / yarn dev
```

Open [http://localhost:3000](http://localhost:3000)

## Environment Variables

### Required Variables

#### Web Scraping (At least one required)

**FIRECRAWL_API_KEY** (Recommended)
- **Required**: Yes (at least one scraper)
- **Recommended**: Yes - Default and most reliable option
- **Description**: API key for Firecrawl web scraping service
- **Get it**: [https://firecrawl.dev](https://firecrawl.dev)
- **Use case**: Fast and reliable web scraping with caching, screenshot capture support
- **Performance**: Fast response times, built-in caching reduces API calls

**SCRAPEGRAPH_API_KEY** (Optional Alternative)
- **Required**: No (but recommended as backup)
- **Recommended**: Yes - Good alternative if Firecrawl has issues
- **Description**: API key for ScrapeGraph AI web scraping service
- **Get it**: [https://scrapegraphai.com](https://scrapegraphai.com)
- **Use case**: AI-powered intelligent web scraping with advanced content extraction
- **Performance**: Better for complex pages, may be slower than Firecrawl

#### AI Provider (At least one required)

**ANTHROPIC_API_KEY** (Recommended)
- **Required**: Yes (at least one AI provider)
- **Recommended**: Yes - Best quality for code generation
- **Description**: API key for Anthropic Claude models
- **Get it**: [https://console.anthropic.com](https://console.anthropic.com)
- **Use case**: High-quality code generation, best reasoning capabilities
- **Performance**: Slower but highest quality output

**OPENAI_API_KEY**
- **Required**: Yes (at least one AI provider)
- **Recommended**: Yes - Good balance of speed and quality
- **Description**: API key for OpenAI GPT models
- **Get it**: [https://platform.openai.com](https://platform.openai.com)
- **Use case**: Fast code generation with good quality
- **Performance**: Fast response times, good quality

**GEMINI_API_KEY**
- **Required**: Yes (at least one AI provider)
- **Recommended**: Optional - Good for experimentation
- **Description**: API key for Google Gemini models
- **Get it**: [https://aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)
- **Use case**: Alternative AI provider, experimental features
- **Performance**: Fast, good for simple tasks

**GROQ_API_KEY**
- **Required**: Yes (at least one AI provider)
- **Recommended**: Yes - Fastest option
- **Description**: API key for Groq API (supports multiple models)
- **Get it**: [https://console.groq.com](https://console.groq.com)
- **Use case**: Ultra-fast inference, good for rapid iterations
- **Performance**: Fastest response times, cost-effective

#### Sandbox Provider (Required - Choose one)

**SANDBOX_PROVIDER**
- **Required**: Yes
- **Recommended**: `vercel` for most users, `e2b` for advanced use cases
- **Description**: Choose your sandbox execution environment
- **Options**: `vercel` (default) or `e2b`
- **Use case**: 
  - `vercel`: Better integration, easier setup, recommended for most users
  - `e2b`: More control, longer timeout (30min vs 15min), better for complex builds

**Vercel Sandbox Authentication** (Required if SANDBOX_PROVIDER=vercel)

Choose ONE authentication method:

**VERCEL_OIDC_TOKEN** (Recommended for development)
- **Required**: Yes (if using Vercel sandbox and Method A)
- **Recommended**: Yes - Easiest setup
- **Description**: OIDC token automatically generated by Vercel CLI
- **Get it**: Run `vercel link` then `vercel env pull` in your project
- **Use case**: Development environments, automatic token management
- **Performance**: No manual token management needed

**VERCEL_TOKEN** + **VERCEL_TEAM_ID** + **VERCEL_PROJECT_ID** (Alternative)
- **Required**: Yes (if using Vercel sandbox and Method B)
- **Recommended**: For production deployments
- **Description**: Personal access token with team and project IDs
- **Get it**: 
  - Token: [Vercel Dashboard → Settings → Tokens](https://vercel.com/account/tokens)
  - Team ID: Found in team settings URL or API
  - Project ID: Found in project settings
- **Use case**: Production environments, CI/CD pipelines
- **Performance**: More control, better for automated deployments

**E2B Sandbox** (Required if SANDBOX_PROVIDER=e2b)

**E2B_API_KEY**
- **Required**: Yes (if using E2B sandbox)
- **Recommended**: For advanced users needing longer timeouts
- **Description**: API key for E2B sandbox environment
- **Get it**: [https://e2b.dev](https://e2b.dev)
- **Use case**: Longer-running builds, more control over environment
- **Performance**: 30-minute timeout vs 15 minutes for Vercel

### Optional Variables

#### Performance & Features

**MORPH_API_KEY**
- **Required**: No
- **Recommended**: Yes - Significantly speeds up code edits
- **Description**: API key for Morph LLM fast apply feature
- **Get it**: [https://morphllm.com/dashboard](https://morphllm.com/dashboard)
- **Use case**: Faster code application for edits (not initial generation)
- **Performance**: Can reduce edit time by 50-70%
- **Note**: Only used for edits, not initial code generation

**AI_GATEWAY_API_KEY**
- **Required**: No
- **Recommended**: For production deployments using Vercel
- **Description**: Vercel AI Gateway API key (unified API for multiple providers)
- **Get it**: [Vercel AI Gateway](https://vercel.com/docs/ai/ai-gateway)
- **Use case**: Unified API access, rate limiting, caching, analytics
- **Performance**: Better rate limiting and caching, single API key for all providers
- **Note**: When set, overrides individual provider API keys

**NEXT_PUBLIC_APP_URL**
- **Required**: No
- **Recommended**: Yes - Required for production deployments
- **Description**: Base URL for internal API calls
- **Default**: `http://localhost:3000`
- **Use case**: Production deployments, custom domains
- **Example**: `https://your-domain.com` or `https://your-app.vercel.app`
- **Performance**: Ensures correct API routing in production

#### Development & Debugging

**DEBUG**
- **Required**: No
- **Recommended**: For troubleshooting
- **Description**: Enable debug logging
- **Default**: Not set (no debug logs)
- **Use case**: Troubleshooting issues, development debugging
- **Example**: Set to any value to enable (e.g., `DEBUG=true`)

**NPM_FLAGS**
- **Required**: No
- **Recommended**: Yes - Helps with package installation issues
- **Description**: Additional flags for npm install commands
- **Default**: Empty string
- **Use case**: Handle peer dependency conflicts
- **Example**: `--legacy-peer-deps` or `--force`
- **Performance**: Can resolve package installation issues

**AUTO_RESTART_VITE**
- **Required**: No
- **Recommended**: Yes - Improves development experience
- **Description**: Automatically restart Vite dev server after package installation
- **Default**: Not set (manual restart required)
- **Use case**: Automatic dev server refresh after installing packages
- **Example**: `true` to enable
- **Performance**: Reduces manual steps, faster iteration

#### Advanced Configuration

**ANTHROPIC_BASE_URL**
- **Required**: No
- **Recommended**: Only if using custom Anthropic endpoint
- **Description**: Custom base URL for Anthropic API
- **Default**: `https://api.anthropic.com/v1`
- **Use case**: Custom API endpoints, proxies, or self-hosted solutions
- **Example**: `https://custom-proxy.com/v1`

**OPENAI_BASE_URL**
- **Required**: No
- **Recommended**: Only if using custom OpenAI endpoint
- **Description**: Custom base URL for OpenAI API
- **Default**: Standard OpenAI endpoint
- **Use case**: Custom API endpoints, proxies, or self-hosted solutions
- **Example**: `https://custom-proxy.com/v1`

## Features

### Web Scraping Options

ender supports two web scraping providers:

1. **Firecrawl** (Default)
   - Fast and reliable web scraping with caching
   - Screenshot capture support
   - Best for most websites
   - Get your API key at [firecrawl.dev](https://firecrawl.dev)

2. **ScrapeGraph AI** (Alternative)
   - AI-powered intelligent web scraping
   - Advanced content extraction
   - Better for complex or dynamic pages
   - Get your API key at [scrapegraphai.com](https://scrapegraphai.com)

You can switch between scrapers in the UI when entering a URL. Your preference is saved automatically.

**Note:** At least one scraper API key is required. You can configure both and switch between them as needed.

### AI Code Generation

ender supports multiple AI providers for code generation:

- **Anthropic Claude**: Best quality, slower (recommended for complex projects)
- **OpenAI GPT**: Fast and high quality (good balance)
- **Google Gemini**: Fast, good for experimentation
- **Groq**: Ultra-fast inference (best for rapid iterations)

You can configure multiple providers and switch between them in the UI.

### Sandbox Execution

Code is executed in isolated sandbox environments:

- **Vercel Sandbox**: Easy setup, 15-minute timeout, better integration
- **E2B Sandbox**: More control, 30-minute timeout, better for complex builds

### Fast Apply (Morph)

When `MORPH_API_KEY` is configured, code edits are applied faster using Morph LLM's fast apply feature. This can reduce edit time by 50-70%.

## Troubleshooting

### Common Issues

**Issue: "API key not found" errors**
- **Solution**: Ensure `.env.local` exists and contains the required API keys
- **Check**: Verify variable names match exactly (case-sensitive)
- **Tip**: Copy from `.env.example` to ensure correct format

**Issue: Sandbox creation fails**
- **Solution**: Verify sandbox provider credentials are correct
- **Vercel**: Ensure OIDC token is valid or all three (token, team ID, project ID) are set
- **E2B**: Verify E2B API key is valid and has credits

**Issue: Package installation fails**
- **Solution**: Set `NPM_FLAGS=--legacy-peer-deps` in `.env.local`
- **Alternative**: Try `NPM_FLAGS=--force` for stubborn conflicts

**Issue: Internal API calls fail in production**
- **Solution**: Set `NEXT_PUBLIC_APP_URL` to your production URL
- **Example**: `NEXT_PUBLIC_APP_URL=https://your-app.vercel.app`

**Issue: Slow code generation**
- **Solution**: Use `GROQ_API_KEY` for fastest inference
- **Alternative**: Enable `MORPH_API_KEY` for faster edits

**Issue: Debugging issues**
- **Solution**: Set `DEBUG=true` in `.env.local` to enable debug logging
- **Check**: Check browser console and server logs for detailed error messages

### Getting Help

- Check the [Issues](https://github.com/firecrawl/open-lovable/issues) page
- Review API provider documentation for key setup
- Ensure all required environment variables are set

## License

MIT
